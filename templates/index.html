<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<body>
  <div class="container">
    <div class="jumbotron">
      <h1> OCR Tool </h1>
      <p> Extract text from Images <p>
    </div>
	<div class="jumbotron">
		<div class="form-group">
			<label for="image_file">Example image(s) file input</label>
			<input type="file" id="image_file" class="form-control-file" name="myfile" multiple>
		</div>
		<button class="btn btn-outline-success" onclick="performOCR()"> Extract Text </button>
		<br>
		<hr style="width:100%;text-align:left;margin-left:0">
		<hr style="width:100%;text-align:left;margin-left:0">
		<div id="bulk_result" style="display: grid; grid-template-columns: repeat(5, 1fr); grid-gap: 10px;">
	</div>
  </div>
</body>

<script>
  function performOCR() {
    var files = document.getElementById("image_file").files
    var formData = new FormData();
    var endpoint = '/predict';
    formData.append('image', files[0]);
    

    $.ajax({
        type: 'POST',
        url: endpoint,
        data: formData,
        contentType: false,
        cache: false,
        processData: false,
        success: function(data) {
            swal("Predicton", data.prediction);
          }
        }
    });
  }

    function stopChecker() {
      clearInterval(checker)
    }
  }
</script>
